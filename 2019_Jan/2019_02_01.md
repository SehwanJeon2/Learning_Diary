# Project3 - c9

### 파일 가져오기







## 요구사항

아래 조건에 맞는 정보를 찾는 쿼리를 만들고 각각의 파일명에 따른 sql 파일을 만들어 제출.

DB 이름음 `pjt` 입니다.

### 1. 테이블 구성하기 (파일명: 01_create_table.sql)

01_create_table.sql 파일 생성



therminal에서

`sqlite3 01_create_table.sql` 입력

```sqlite
CREATE TABLE movies (
    영화등급 INTEGER PRIMARY KEY,
...)
```

반드시 table 생성이 먼저다.

```sqlite
.mode csv
import boxoffice.csv movies
```

import를 통해 csv 파일을 db에 저장.



읽기 편하라고 mode 추가

```sqlite
.hearders on
.mode tabs
.width 는 나중에
```

.tabs 등 추가 조사 요함.





### 2. 기본 CRUD 조작하기 (파일명: 02_crud.sql)



```sqlite
INSERT INTO movies VALUES (20182530, '극한직업', '15세이상관람가', '이병헌', 20190123, 3138467, 111, '한국', '코미디
```



```sqlite
SELECT * FROM movies WHERE 영화코드=20040521;
20040521|클레멘타인|15세관람가|김두영|20040521|67000|100|한국|액션
```



```sqlite
 DELETE FROM movies WHERE 영화코드=20040521;
```





```sqlite
SELECT * FROM movies WHERE 영화코드=20185124;
20185124|러브 유어셀프 인 서울|전체관람가| (*공백*) |20190126|180966|111|한국|공연
```





```sqlite
UPDATE movies SET 감독='없음' WHERE 영화코드=20185124;
sqlite> SELECT * FROM movies WHERE 영화코드=20185124;
20185124|러브 유어셀프 인 서울|전체관람가|없음|20190126|180966|111|한국|공연
```





### 3. 원하는 데이터 찾기 (파일명: 03_select.sql)

아래의 순서에 맞게 쿼리문을 작성

1. 상영시간이 150분 이상인 영화이름만 출력하세요.

```sqlite
SELECT 영화이름 FROM movies WHERE 상영시간>=150;
해리포터와 마법사의 돌
다크 나이트
아바타
트랜스포머: 최후의 기사
블레이드 러너 2049
스타워즈: 라스트 제다이
당갈
```



2. 장르가 애니메이션인 영화코드와 영화이름를 출력하세요.

```sqlite
SELECT 영화코드, 영화이름 FROM movies WHERE 장르='애니메이션';
20078561|명탐정 코난:감벽의 관
20135305|극장판 포켓몬스터DP - 디아루가 VS 펄기아 VS 다크라이
20161665|스머프: 비밀의 숲
20161744|트롤
20162607|슈퍼 버드
20170124|명탐정 코난:진홍의 연가
20170321|목소리의 형태
20170364|레고 닌자고 무비
20170964|딥
20171022|극장판 에그엔젤 코코밍: 푸르밍과 두근두근 코코밍 세계
20171801|극장판 암살교실 : 365일의 시간
20171817|넛잡 2
20172142|극장판 요괴워치: 하늘을 나는 고래와 더블세계다냥!
20172241|꼬마돼지 베이브의 대모험
20172627|리틀 프린세스 소피아 : 신비한 섬
20173061|슈퍼 빼꼼: 스파이 대작전
20173403|슈퍼배드 3
20173806|노 게임 노 라이프 -제로-
20174061|보스 베이비
20174165|극장판 또봇: 로봇군단의 습격
20174585|메리와 마녀의 꽃
20174821|바다 탐험대 옥토넛 시즌4: 더 파이널
20174846|뽀로로 극장판 공룡섬 대모험
20174965|극장판 포켓몬스터 너로 정했다!
20175142|극장판 쿠로코의 농구 라스트 게임
20175223|래빗 스쿨
20175423|나의 붉은고래
20175522|카3: 새로운 도전
20175821|언더더씨
20176022|더 크리스마스
20176082|몬스터 패밀리
20176141|베이블레이드 버스트 갓 : 갓 발키리의 탄생
20176367|극장판 숲의 요정 페어리루 ~크리스마스의 기적: 마법의 날개~
20176741|꼬마참새 리차드: 아프리카 원정대
20177104|페르디난드
20177479|극장판 프리파라 모두의 동경♪ 렛츠고☆프리파리
20177602|쏘아올린 불꽃, 밑에서 볼까? 옆에서 볼까?
20177761|오즈: 신기한 마법가루
20178321|극장판 짱구는 못말려 : 습격!! 외계인 덩덩이
20178444|극장판 레이디버그: 미라클스톤의 비밀
20178641|빅풋 주니어
20179085|극장판 도라에몽: 진구의 남극 꽁꽁 대모험
20179186|이모티: 더 무비
20179228|마야2
20179942|러빙 빈센트
20179985|코코
20180167|에그엔젤 코코밍: 두근두근 핼러윈 파티
20180770|다이노 어드벤처2: 육해공 공룡 대백과
20181366|미니특공대X
20182360|정글번치: 최강 악당의 등장
20182385|매직빈
20182421|그린치
20182588|미래의 미라이
20182966|투 프렌즈
20182984|얼리맨
20182989|커다랗고 커다랗고 커다란 배
20183084|피터 래빗
20183195|레오나르도 다 빈치
20183238|스파이더맨: 뉴 유니버스
20183321|마징가 Z: 인피니티
20183361|인크레더블 2
20183375|극장판 포켓몬스터 모두의 이야기
20183479|극장판 짱구는 못말려: 아뵤! 쿵후 보이즈 ~라면 대란~
20183745|런닝맨 : 풀룰루의 역습
20183785|점박이 한반도의 공룡2 : 새로운 낙원
20183915|극장판 공룡메카드: 타이니소어의 섬
20184261|벅스 프렌즈
20184512|토니스토리2: 고철왕국의 친구들
20184513|위 베어 베어스: 베이비 베어스
20184802|몬스터 호텔 3
20185001|빅샤크: 매직체인지
20185242|신비아파트: 금빛 도깨비와 비밀의 동굴
20186324|언더독
20186501|극장판 헬로카봇 : 백악기 시대
20186822|너의 췌장을 먹고 싶어
20187427|명탐정 코난 : 제로의 집행인
20187521|펭귄 하이웨이
20187641|극장판 도라에몽: 진구의 보물섬
20188304|극장판 요괴워치 섀도사이드: 도깨비왕의 부활
20189268|루이스
20189385|몬스터 파크
20189462|셜록 놈즈
20189463|주먹왕 랄프 2: 인터넷 속으로
20189746|극장판 뽀잉: 슈퍼 변신의 비밀
```



3. 제작국가가 덴마크이고 장르가 애니메이션인 영화이름을 출력하세요.

```sqlite
SELECT 영화이름 FROM movies WHERE 제작국가='덴마크' AND 장르='애니메이션';
커다랗고 커다랗고 커다란 배
```



4. 누적관객수가 백만이 넘고, 관람등급이 청소년관람불가인 영화이름과 누적관객수를 출력.

```sqlite
SELECT 영화이름, 누적관객수 FROM movies WHERE 누적관객수>1000000 AND 관람등급='청소년관람불가';
바람 바람 바람|1191776
로건|2155751
프리즌|2920530
악녀|1192888
브이아이피|1364953
마약왕|1787826
범죄도시|6861910
킹스맨: 골든 서클|4922079
데드풀 2|3777696
```



5. 개봉연도가 2000년 1월 1일 ~ 2009년 12월 31일 사이인 영화를 출력하세요.

```sqlite
sqlite> SELECT 영화이름 FROM movies WHERE 개봉연도>=20000101 AND 개봉연도<=20091231;
해리포터와 마법사의 돌
헤드윅
이프 온리
원스
다크 나이트
아바타
```



6. 장르를 중복 없이 출력하세요.

```sqlite
SELECT DISTINCT 장르 FROM movies;
가족
뮤지컬
코미디
드라마
애니메이션
범죄
SF
액션
스릴러
판타지
미스터리
멜로/로맨스
어드벤처
공포(호러)
사극
다큐멘터리
기타
공연
```



### 4. Expression 활용하기 (파일명: 04_expression.sql)



1. 모든 영화의 총 누적관객수를 출력하세요.

```sqlite
SELECT SUM(누적관객수) FROM movies;
SUM(누적관객수)
426366183
```



2. 가장 많은 누적관객수인 영화이름과 누적관객수를 출력하세요.

```sqlite
SELECT 영화이름, MAX(누적관객수) FROM movies;
영화이름        MAX(누적관객수)
신과함께-죄와 벌        14398110
```



3. 가장 상영시간이 짧은 영화의 장르와 상영시간을 출력하세요.

```sqlite
SELECT 장르, MIN(상영시간) FROM movies;
장르    MIN(상영시간)
애니메이션      57
```



4. 제작국가가 한국인 영화의 평균 누적관객수를 출력하세요.

```sqlite
SELECT AVG(누적관객수) FROM movies WHERE 제작국가='한국';
AVG(누적관객수)
1627276.06976744
```



5. 관람등급이 청소년관람불가인 영화의 개수를 출력하세요.

```sqlite
SELECT COUNT(*) FROM movies WHERE 관람등급='청소년관람불가';
COUNT(*)
27
```



6. 상영시간이 100분 이상이고 장르가 애니메이션인 영화의 개수를 출력하세요.

```sqlite
SELECT COUNT(*) FROM movies WHERE 상영시간>=100 AND 장르='애니메이션';
COUNT(*)
22
```





### 5. 정렬하기 (파일명: 05_order.sql)



1. 누적관객수 상위 5개 영화의 모든 데이터를 출력하세요.

```sqlite
SELECT * FROM movies ORDER BY 누적관객수 LIMIT 5;
영화코드        영화이름        관람등급        감독    개봉연도        누적관객수      상영시간        제작국가        장르
20180628        액슬    12세이상관람가  올리버 달리     20181018        12152   98      미국    액션
20184512        토니스토리2: 고철왕국의 친구들  전체관람가      토마스 보덴스타인       20180613        12415   81      독일    애니메이션
20184513        위 베어 베어스: 베이비 베어스   전체관람가      매니 에르난데스 20180524        13114   70      미국    애니메이션
20183321        마징가 Z: 인피니티      12세이상관람가  시미즈 준지     20180517        13924   94      일본    애니메이션
20176069        원더스트럭      전체관람가      토드 헤인즈     20180503        13987   115     미국    드라마
```



2. 장르가 애니메이션인 영화를 제작국가(오름차순), 누적관객수(내림차순)순으로 정렬하여 10개
   만 출력하세요.

```sqlite
SELECT 영화이름 FROM movies
   ...> ORDER BY 제작국가 ASC, 누적관객수 DESC
   ...> LIMIT 10;
영화이름
안녕, 나의 소녀
커다랗고 커다랗고 커다란 배
몬스터 패밀리
루이스
마야2
래빗 스쿨
꼬마참새 리차드: 아프리카 원정대
꼬마돼지 베이브의 대모험
토니스토리2: 고철왕국의 친구들
오즈: 신기한 마법가루
```



3. 상영시간이 긴 영화를 만든 감독의 이름을 10개만 출력하세요.

```sqlite
SELECT 감독 FROM movies ORDER BY 상영시간 DESC LIMIT 10;
감독
드니 빌뇌브
제임스 카메론
니테쉬 티와리
크리스 콜럼버스
크리스토퍼 놀란
라이언 존슨
마이클 베이
안소니 루소
이창동
크리스토퍼 맥쿼리
```



